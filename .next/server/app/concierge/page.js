(()=>{var e={};e.id=101,e.ids=[101],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},181:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var n=s(482),i=s(9108),o=s(2563),r=s.n(o),a=s(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let c=["",{children:["concierge",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3530)),"/Users/joshkennedy/Documents/GitHub/EF/app/concierge/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/joshkennedy/Documents/GitHub/EF/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/joshkennedy/Documents/GitHub/EF/app/concierge/page.tsx"],u="/concierge/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/concierge/page",pathname:"/concierge",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7687:(e,t,s)=>{Promise.resolve().then(s.bind(s,2557))},2557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(2295),i=s(3729),o=s(3715),r=s(7177),a=s(3244),l=s(4899),c=s(8835);let d={type:"card",id:"action-buttons",title:"What Would You Like to do",body:"Select an option to get started:"};function u(){let[e,t]=(0,i.useState)([d]),[s,u]=(0,i.useState)(["Welcome! I'm your Hospital Concierge.","You can interact with me using voice or by clicking the buttons below."]),[m,x]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null),[b,g]=(0,i.useState)(!1),[v,f]=(0,i.useState)(""),[y,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{f(`session_${Date.now()}`)},[]),(0,i.useEffect)(()=>{let e=localStorage.getItem("everfriends-consent");"accepted"===e?(h(!0),t([d]),u(["Welcome! I'm your Hospital Concierge.","You can interact with me using voice or by clicking the buttons below."])):"declined"===e?h(!1):(x(!0),t([d]),u(["Welcome! I'm your Hospital Concierge.","Please accept the terms to interact with me using voice or buttons."]))},[]);let j=async(e,t)=>{try{await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json","x-session-id":v},body:JSON.stringify({kind:e,payload:t})})}catch(e){console.error("Failed to record event:",e)}},N=async e=>{if(!1!==p){g(!0),j("user_text",{text:e});try{let s=await (0,c._)(e);s.captions.forEach((e,t)=>{setTimeout(()=>{u(t=>[...t,e])},1e3*t)});let n=s.envelope.directives;n.some(e=>"card"===e.type&&"action-buttons"===e.id)||y?t(n):t([d,...n]),j("ai_response",{captions:s.captions,directives:s.envelope.directives})}catch(e){console.error("Failed to get AI response:",e),u(e=>[...e,"Sorry, I encountered an error. Please try again."])}finally{g(!1)}}},_=e=>{j("emit",{event:e}),console.log("Emitted event:",e),"NEW_CONVERSATION"===e&&((0,c.r)(),t([d]),u(["Welcome! I'm your Hospital Concierge.","You can interact with me using voice or by clicking the buttons below."]))},P=()=>{j("session_start",{timestamp:Date.now()})},S=()=>{j("session_stop",{timestamp:Date.now()})};return!1===p?(0,n.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden flex items-center justify-center",children:[(0,n.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),(0,n.jsxs)("div",{className:"relative z-10 text-center max-w-md mx-auto p-8",children:[n.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-white/10 backdrop-blur-xl border-2 border-white/20 rounded-2xl flex items-center justify-center text-5xl shadow-xl",children:"\uD83D\uDEAB"}),n.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Consent Required"}),n.jsx("p",{className:"text-blue-200/80 mb-8 text-lg",children:"To use EverFriends, please accept our terms and enable microphone access."}),n.jsx("button",{onClick:()=>x(!0),className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-bold rounded-2xl hover:from-blue-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all duration-200 shadow-xl shadow-blue-500/40 transform hover:scale-105",children:"Review Terms & Try Again"})]})]}):(0,n.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:[(0,n.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),(0,n.jsxs)("header",{className:"relative z-10 p-6 flex items-center justify-between bg-white/5 backdrop-blur-xl border-b border-white/10",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-blue-500/30",children:"E"}),(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"font-bold text-white text-xl tracking-tight",children:"EverFriends"}),n.jsx("p",{className:"text-sm text-blue-200/80",children:"AI Concierge • Powered by Human+"})]})]}),(0,n.jsxs)("nav",{className:"text-sm text-blue-200 flex gap-6",children:[n.jsx("a",{href:"/",className:"hover:text-white transition-colors duration-200 font-medium","aria-label":"Back to home",children:"← Home"}),n.jsx("button",{onClick:()=>x(!0),className:"hover:text-white transition-colors duration-200 font-medium","aria-label":"Privacy settings",children:"Privacy"})]})]}),n.jsx("section",{className:"relative z-10 container mx-auto px-6 py-10",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"space-y-6",children:[n.jsx("div",{className:"animate-fade-in",children:n.jsx(o.Z,{onUserUtterance:N,onStart:P,onStop:S,isRecording:b})}),n.jsx("div",{className:"animate-fade-in",children:n.jsx(a.Z,{captions:s,onStart:P,onStop:S,onUserUtterance:N,onActionClick:e=>{("check-in"===e||"family-notifications"===e||"care-coordination"===e||"wellness-tracking"===e)&&(w(e),_(`ACTION:${e}`),N(`I want to ${e.replace("-"," ")}`),setTimeout(()=>w(null),100))}})})]}),n.jsx("div",{className:"animate-fade-in",children:n.jsx(r.Z,{items:e,onEmit:_,triggerAction:y})})]})}),n.jsx(l.Z,{isOpen:m,onAccept:()=>{h(!0),x(!1),t([d]),u(["Welcome! I'm your Hospital Concierge.","You can interact with me using voice or by clicking the buttons below."])},onDecline:()=>{h(!1),x(!1)}}),(0,n.jsxs)("footer",{className:"relative z-10 mt-16 py-8 text-center text-sm text-blue-200/60 border-t border-white/5",children:[n.jsx("p",{children:"EverFriends MVP - Built with Next.js, TypeScript, and Tailwind CSS"}),v&&(0,n.jsxs)("p",{className:"mt-1 text-blue-300/50",children:["Session ID: ",v]})]})]})}},3530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>r});let n=(0,s(6843).createProxy)(String.raw`/Users/joshkennedy/Documents/GitHub/EF/app/concierge/page.tsx`),{__esModule:i,$$typeof:o}=n,r=n.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[638,312,257],()=>s(181));module.exports=n})();